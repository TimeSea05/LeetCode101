#include "../lib/libleetcode.h"
#include <iostream>
#include <queue>

using std::cout;
using std::endl;
using std::queue;

void dfs(TreeNode *root, long targetSum, int &count) {
  if (root == nullptr) {
    return;
  }

  if (root->val == targetSum) {
    count++;
  }
  dfs(root->left, targetSum - root->val, count);
  dfs(root->right, targetSum - root->val, count);
}

int pathSum(TreeNode *root, int targetSum) {
  int count = 0;
  if (root == nullptr) {
    return count;
  }

  queue<TreeNode*> q; q.push(root);
  while (!q.empty()) {
    TreeNode *node = q.front(); q.pop();
    dfs(node, targetSum, count);

    if (node->left != nullptr) {
      q.push(node->left);
    }
    if (node->right != nullptr) {
      q.push(node->right);
    }
  }

  return count;
}

int main() {
  vector<int> arr{1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000,null,1000000000};
  TreeNode *root = constructBinaryTree(arr);
  cout << pathSum(root, 22) << endl;
}
